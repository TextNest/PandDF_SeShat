# AR Measure Next

## AR 기능 개발 요약

### 1. AR 기능 구현

- **AR Scene 컴포넌트 개발**: `ARScene.tsx` 파일을 통해 AR 기능을 담당하는 컴포넌트를 구현했습니다. 이 컴포넌트는 AR 세션을 초기화하고, 3D 객체를 렌더링하며, 사용자 인터랙션을 처리합니다.

- **AR 세션 관리**: `useARSession` 훅을 사용하여 AR 세션의 상태를 관리하고, AR 카메라 피드를 화면에 표시합니다.

- **3D 객체 렌더링**: `react-three/fiber`와 `three.js`를 활용하여 가구 모델을 AR 환경에 렌더링합니다. `GLTFLoader`를 사용하여 `.gltf` 또는 `.glb` 형식의 3D 모델을 로드합니다.

### 2. 가구 배치 및 조작

- **가구 배치**: `useFurniturePlacement` 훅을 개발하여 사용자가 AR 환경에서 가구를 선택하고 배치할 수 있도록 했습니다. 평면 감지 기능을 활용하여 현실 공간의 표면에 가구를 정확하게 배치합니다.

- **가구 이동 및 회전**: 배치된 가구를 사용자가 터치 또는 드래그하여 이동시키고, 회전시킬 수 있는 기능을 구현했습니다. `useObjectRotation` 훅을 통해 객체의 회전을 제어합니다.

- **크기 조절**: 가구의 크기를 조절할 수 있는 기능을 추가하여 사용자가 원하는 크기로 가구를 조절할 수 있도록 했습니다.

### 3. 측정 기능

- **거리 측정**: `useMeasurement` 훅을 통해 AR 환경에서 두 지점 간의 거리를 측정하는 기능을 구현했습니다. 사용자가 화면을 터치하여 시작점과 끝점을 지정하면, 두 지점 사이의 거리가 표시됩니다.

- **면적 측정**: 여러 지점을 연결하여 면적을 측정하는 기능을 추가했습니다. 이는 가상 가구를 배치할 공간의 크기를 파악하는 데 유용합니다.

### 4. UI/UX 개선

- **인터랙션 패널**: `usePanelInteraction` 훅을 사용하여 가구 선택, 측정 도구 선택 등 다양한 AR 기능을 제어할 수 있는 UI 패널을 구현했습니다.

- **시각적 피드백**: 가구 배치 시 평면 감지 시각화, 측정 시 거리 표시 등 사용자에게 직관적인 시각적 피드백을 제공하여 사용성을 높였습니다.

### 5. 데이터 관리

- **가구 데이터 관리**: `lib/db.ts`를 통해 가구 모델 데이터 및 관련 정보를 관리합니다. 이는 가구 목록을 불러오고, 선택된 가구의 정보를 AR Scene에 전달하는 역할을 합니다.

- **사용자 설정 저장**: 측정 기록, 배치된 가구 정보 등 사용자 설정을 로컬 스토리지 또는 서버에 저장하는 기능을 고려하고 있습니다.

### 6. 기술 스택

- **프레임워크**: Next.js
- **AR**: WebXR API, `react-three/fiber`, `three.js`
- **상태 관리**: React Hooks
- **스타일링**: CSS Modules

## 설치 (Installation)

프로젝트를 로컬 환경에 설정하고 실행하려면 다음 단계를 따르세요:

1.  **저장소 클론**:
    ```bash
    git clone [프로젝트 저장소 URL]
    cd ar-measure-next
    ```

2.  **의존성 설치**:
    ```bash
    npm install
    # 또는 yarn install
    ```

3.  **개발 서버 실행**:
    ```bash
    npm run dev
    # 또는 yarn dev
    ```
    애플리케이션이 `http://localhost:3000`에서 실행됩니다.

## 사용법 (Usage)

애플리케이션을 실행한 후, AR 기능을 활용하여 가구를 배치하고 측정할 수 있습니다.

1.  **AR 모드 시작**: 애플리케이션에 접속하여 AR 모드를 활성화합니다. (WebXR 지원 기기 필요)
2.  **가구 배치**: 화면에 표시되는 가구 목록에서 원하는 가구를 선택하고, 평면을 감지하여 배치합니다.
3.  **가구 조작**: 배치된 가구를 이동, 회전, 크기 조절하여 원하는 위치와 형태로 조정합니다.
4.  **측정**: 측정 도구를 선택하여 두 지점 간의 거리 또는 면적을 측정합니다.
